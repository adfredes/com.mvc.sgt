use SITK
ALTER TABLE Paciente ADD Mail VARCHAR(50) NULL, Cuit VARCHAR(20) ;  

create table dbo.TipoSesion (
	ID int identity primary key, 
	Descripcion varchar(50) not null, 
	Color varchar(7) not null);

alter table dbo.Consultorio add TipoSesionID int;

alter table dbo.Consultorio
add constraint FK_Consultorio_TipoSesion foreign key (TipoSesionID)
	references dbo.TipoSesion (ID)
	on delete cascade
	on update cascade
;

create table dbo.Profesional_TipoSesion(
	ID int identity primary key,
	ProfesionalID int not null,
	TipoSesionID int not null,
  );

  alter table dbo.Profesional_TipoSesion
	add constraint FK_Profesional_TipoSesion_TipoSesion foreign key (TipoSesionID)
	references dbo.TipoSesion (ID)
	on delete cascade
	on update cascade
;

alter table dbo.Profesional_TipoSesion
	add constraint FK_Profesional_TipoSesion_Profesional foreign key (ProfesionalID)
	references dbo.Profesional (ID)
	on delete cascade
	on update cascade
;

exec sp_rename 'HorariosMedicos', 'HorariosProfesionales';

exec sp_rename 'dbo.HorariosProfesionales.idMedico', 'ProfesionalId', 'COLUMN';

exec sp_rename 'dbo.Consultorio.UsuarioModificaicon', 'UsuarioModificacion', 'COLUMN';

exec sp_rename 'dbo.Consultorio.UsuarioModificaicon', 'UsuarioModificacion', 'COLUMN';

exec sp_rename 'dbo.Turno.UsuarioModifcacion', 'UsuarioModificacion', 'COLUMN';

exec sp_rename 'dbo.Sesion.UsuarioModifcacion', 'UsuarioModificacion', 'COLUMN';

exec sp_rename 'dbo.HorariosProfesionales.idhorario', 'ID', 'COLUMN';

truncate table HorariosProfesionales;

  alter table dbo.HorariosProfesionales
	add constraint FK_Profesional_Horarios foreign key (ProfesionalID)
	references dbo.Profesional (ID)
	on delete cascade
	on update cascade
;


alter table dbo.Turno
  add CantidadSesiones int;

  alter table dbo.Turno
  add Diagnostico varchar(MAX);

  alter table dbo.Turno
  add Fecha smalldatetime;

alter table dbo.Paciente 
add Foto varchar(MAX)

insert into sitk.dbo.Sesion_Estado
(ID, Codigo, Descripcion, Prioridad)
values
(10,'LIBRE','Pospuesto en el Día', 1);

insert into sitk.dbo.Sesion_Estado
(ID, Codigo, Descripcion, Prioridad)
values
(11,'LIBRE','Pospuesto Consultorio', 1);

insert into sitk.dbo.Sesion_Estado
(ID, Codigo, Descripcion, Prioridad)
values
(12,'LIBRE','Pospuesto No Aviso', 1)
