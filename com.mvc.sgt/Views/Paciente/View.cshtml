<style>
    /*.md-select-menu-container {
        z-index: 99999 !important;
    }*/
</style>
<div id="{{$ctrl.divid}}" class="modal fade bd-example-modal-lg" role="dialog">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header badge-primary">
                <h4 class="modal-title text-capitalize"><span class="icon-id-card-o badge-primary"></span>{{$ctrl.paciente.Nombre}} {{$ctrl.paciente.Apellido}}</h4>
                <button type="button" ng-click="close()" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body p-0">
                @*<input type="hidden" class="form-control" ng-model="$ctrl.paciente.ID">*@
                <div ng-cloak>
                    <md-content>
                        <md-tabs md-dynamic-height md-border-bottom md-selected="$ctrl.selectedIndex">
                            <md-tab label="Datos Paciente">
                                <md-content>
                                    <div class="container-fluid p-0">
                                        <form name="$ctrl.frmPaciente" id="frmPaciente" ng-cloak novalidate>
                                            <fieldset class="m-0 pb-0">
                                                <input type="text" id="hPacienteID" ng-model="$ctrl.paciente.ID" ng-change="$ctrl.hiddenChange()" ng-show="true==false"/>
                                                <div class="form-row">
                                                    <div class="form-group col-md-3 pr-4">                                                       
                                                       <webcam base64="$ctrl.paciente.Foto" on-take="$ctrl.takedPhoto(data)"></webcam>
                                                        @*<img class="img-fluid" src="../content/addphoto-camera.svg" />*@
                                                    </div>
                                                    <div class="form-group col-md-9">
                                                        <div class="form-row">
                                                            <div class="col-md-6">
                                                                <md-input-container class="form-group md-block">
                                                                    <label for="nombre">
                                                                        Nombre
                                                                    </label>
                                                                    <input type="text" value="" class="form-control text-capitalize" id="nombre"
                                                                           name="nombre" ng-model="$ctrl.paciente.Nombre" autocomplete="off" required />
                                                                    <div ng-show="frmPaciente.nombre.$touched" ng-messages="frmPaciente.nombre.$error" role="alert">
                                                                        <span ng-messages-include="~/Home/FormElementError" class="ng-mesagges"></span>
                                                                    </div>
                                                                </md-input-container>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <md-input-container class="form-group md-block">
                                                                    <label for="apellido">
                                                                        Apellido
                                                                    </label>
                                                                    <input type="text" value="" class="form-control text-capitalize" id="apellido"
                                                                           name="apellido" ng-model="$ctrl.paciente.Apellido" autocomplete="off" required />
                                                                    <div ng-show="frmPaciente.apellido.$touched" ng-messages="frmPaciente.apellido.$error" role="alert">
                                                                        <span ng-messages-include="~/Home/FormElementError" class="ng-mesagges"></span>
                                                                    </div>
                                                                </md-input-container>
                                                            </div>
                                                        </div>
                                                        <div class="form-row">
                                                            <div class="col-md-4">
                                                                <md-input-container class="form-group md-block">
                                                                    <label for="nacimiento">
                                                                        Fecha Nacimiento
                                                                    </label>

                                                                    <md-datepicker ng-model="$ctrl.paciente.FechaNacimiento" required id="nacimiento" name="nacimiento" md-open-on-focus></md-datepicker>
                                                                    <div ng-show="frmPaciente.nacimiento.$touched" ng-messages="frmPaciente.nacimiento.$error" role="alert">
                                                                        <span ng-messages-include="~/Home/FormElementError" class="ng-mesagges"></span>
                                                                    </div>
                                                                </md-input-container>
                                                            </div>
                                                            <div class="col-md-4">
                                                                <md-input-container class="form-group md-block">
                                                                    <label for="documento">
                                                                        Documento
                                                                    </label>
                                                                    <input type="text" value="" class="form-control" id="documento"
                                                                           name="documento" ng-model="$ctrl.paciente.DocumentoNumero" autocomplete="off" required />
                                                                    <div ng-show="frmPaciente.documento.$touched" ng-messages="frmPaciente.documento.$error" role="alert">
                                                                        <span ng-messages-include="~/Home/FormElementError" class="ng-mesagges"></span>
                                                                    </div>
                                                                </md-input-container>
                                                            </div>

                                                            <div class="col-md-4">
                                                                <md-input-container class="form-group md-block">
                                                                    <label for="cuit">
                                                                        Cuit
                                                                    </label>
                                                                    <input type="text" value="" class="form-control" id="cuit" autocomplete="off"
                                                                           name="cuit" ng-model="$ctrl.paciente.Cuit" />
                                                                    <div ng-show="frmPaciente.cuit.$touched" ng-messages="frmPaciente.cuit.$error" role="alert">
                                                                        <span ng-messages-include="~/Home/FormElementError" class="ng-mesagges"></span>
                                                                    </div>
                                                                </md-input-container>
                                                            </div>
                                                        </div>

                                                    </div>

                                                </div>
                                            </fieldset>
                                            <div class="clearfix"></div>
                                            <fieldset class="m-0 pt-0 pb-0">
                                                <div class="form-row">
                                                    <div class="form-group col-md-5">
                                                        <md-input-container class="form-group md-block">
                                                            <label>
                                                                Aseguradora
                                                            </label>
                                                            <md-select id="aseguradora" name="aseguradora" ng-model="$ctrl.paciente.AseguradoraID" ng-change="$ctrl.getPlanes()" required>
                                                                <md-option ng-repeat="item in $ctrl.ObrasSociales" ng-value="{{item.Value}}">{{item.Text}}</md-option>
                                                            </md-select>
                                                            <div ng-show="frmPaciente.aseguradora.$touched" ng-messages="frmPaciente.aseguradora.$error" role="alert">
                                                                <span ng-messages-include="~/Home/FormElementError" class="ng-mesagges"></span>
                                                            </div>
                                                        </md-input-container>
                                                    </div>
                                                    <div class="form-group col-md-4 col-lg-5">
                                                        <md-input-container class="form-group md-block">
                                                            <label>
                                                                Plan
                                                            </label>
                                                            <md-select id="plan" name="plan" ng-model="$ctrl.paciente.AseguradoraPlanID" required>
                                                                <md-option ng-repeat="item in $ctrl.Planes" ng-value="{{item.Value}}">{{item.Text}}</md-option>
                                                            </md-select>
                                                            <div ng-show="frmPaciente.plan.$touched" ng-messages="frmPaciente.plan.$error" role="alert">
                                                                <span ng-messages-include="~/Home/FormElementError" class="ng-mesagges"></span>
                                                            </div>
                                                        </md-input-container>
                                                    </div>
                                                    <div class="form-group col-lg-2 col-md-3">
                                                        <md-input-container class="form-group md-block">
                                                            <md-checkbox id="gravado" name="gravado" ng-model="$ctrl.paciente.EsGravado">Gravado</md-checkbox>
                                                            <div ng-show="frmPaciente.gravado.$touched" ng-messages="frmPaciente.gravado.$error" role="alert">
                                                                <span ng-messages-include="~/Home/FormElementError" class="ng-mesagges"></span>
                                                            </div>
                                                        </md-input-container>
                                                    </div>
                                                </div>
                                                <div class="form-row">
                                                    <div class="form-group col-md-4">
                                                        <md-input-container class="form-group md-block">
                                                            <label>
                                                                Código Seguridad
                                                            </label>
                                                            <input type="text" value="" id="afiliado" name="afiliado" class="form-control" ng-model="$ctrl.paciente.CodigoSeguridad" />
                                                            <div ng-show="frmPaciente.codigoseguridad.$touched" ng-messages="frmPaciente.codigoseguridad.$error" role="alert">
                                                                <span ng-messages-include="~/Home/FormElementError" class="ng-mesagges"></span>
                                                            </div>
                                                        </md-input-container>
                                                    </div>
                                                    <div class="form-group col-md-4">
                                                        <md-input-container class="form-group md-block">
                                                            <label>
                                                                Nro Afiliado
                                                            </label>
                                                            <input type="text" value="" id="afiliado" name="afiliado" class="form-control" ng-model="$ctrl.paciente.NumeroAfiliado" />
                                                            <div ng-show="frmPaciente.afiliado.$touched" ng-messages="frmPaciente.afiliado.$error" role="alert">
                                                                <span ng-messages-include="~/Home/FormElementError" class="ng-mesagges"></span>
                                                            </div>
                                                        </md-input-container>
                                                    </div>
                                                    <div class="form-group col-md-4">
                                                        <md-input-container class="form-group md-block">
                                                            <label>
                                                                OS
                                                            </label>
                                                            <input type="text" id="os" name="os" value="" class="form-control" ng-model="$ctrl.paciente.NumeroHC" autocomplete="off" />
                                                            <div ng-show="frmPaciente.os.$touched" ng-messages="frmPaciente.os.$error" role="alert">
                                                                <span ng-messages-include="~/Home/FormElementError" class="ng-mesagges"></span>
                                                            </div>
                                                        </md-input-container>
                                                    </div>


                                                </div>
                                            </fieldset>
                                            <div class="clearfix"></div>
                                            <fieldset class="m-0 pt-0 pb-0">
                                                <div class="form-row">
                                                    <div class="form-group col-md-6">
                                                        <md-input-container class="form-group md-block">
                                                            <label for="provincia">Provincia</label>
                                                            <md-select id="provincia" name="provincia" ng-model="$ctrl.paciente.ProvinciaID" ng-change="$ctrl.getLocalidades()" required>
                                                                <md-option ng-repeat="item in $ctrl.Provincias" ng-value="{{item.Value}}">{{item.Text}}</md-option>
                                                            </md-select>
                                                            <div ng-show="frmPaciente.provincia.$touched" ng-messages="frmPaciente.provincia.$error" role="alert">
                                                                <span ng-messages-include="~/Home/FormElementError" class="ng-mesagges"></span>
                                                            </div>
                                                        </md-input-container>
                                                    </div>
                                                    <div class="form-group col-md-6">
                                                        <md-input-container class="form-group md-block">
                                                            <label for="ciudad">Ciudad</label>
                                                            <md-select id="ciudad" name="ciudad" ng-model="$ctrl.paciente.LocalidadID" required>
                                                                <md-option ng-repeat="item in $ctrl.Localidades" ng-value="{{item.Value}}">{{item.Text}}</md-option>
                                                            </md-select>
                                                            <div ng-show="frmPaciente.ciudad.$touched" ng-messages="frmPaciente.ciudad.$error" role="alert">
                                                                <span ng-messages-include="~/Home/FormElementError" class="ng-mesagges"></span>
                                                            </div>
                                                        </md-input-container>
                                                    </div>
                                                </div>
                                                <div class="form-row">
                                                    <div class="form-group col-md-8">
                                                        <md-input-container class="form-group md-block">
                                                            <label for="direccion">Dirección</label>
                                                            <input type="text" id="direccion" name="direccion" autocomplete="off"
                                                                   value="" class="form-control" ng-model="$ctrl.paciente.Direccion" />
                                                            <div ng-show="frmPaciente.direccion.$touched" ng-messages="frmPaciente.direccion.$error" role="alert">
                                                                <span ng-messages-include="~/Home/FormElementError" class="ng-mesagges"></span>
                                                            </div>
                                                        </md-input-container>
                                                    </div>
                                                    <div class="form-group col-md-4">
                                                        <md-input-container class="form-group md-block">
                                                            <label for="codigopostal">Código Postal</label>
                                                            <input type="text" id="codigopostal" name="codigopostal" autocomplete="off"
                                                                   class="form-control" ng-model="$ctrl.paciente.CodigoPostal" />
                                                            <div ng-show="frmPaciente.codigopostal.$touched" ng-messages="frmPaciente.codigopostal.$error" role="alert">
                                                                <span ng-messages-include="~/Home/FormElementError" class="ng-mesagges"></span>
                                                            </div>
                                                        </md-input-container>
                                                    </div>
                                                </div>
                                                <div class="form-row">
                                                    <div class="form-group col-md-4">
                                                        <md-input-container class="form-group md-block">
                                                            <label for="telefono">Teléfono</label>
                                                            <input type="tel" class="form-control" id="telefono"
                                                                   name="telefono" ng-model="$ctrl.paciente.Telefono" autocomplete="off" required />
                                                            <div ng-show="frmPaciente.telefono.$touched" ng-messages="frmPaciente.telefono.$error" role="alert">
                                                                <span ng-messages-include="~/Home/FormElementError" class="ng-mesagges"></span>
                                                            </div>
                                                        </md-input-container>
                                                    </div>
                                                    <div class="form-group col-md-4">
                                                        <md-input-container class="form-group md-block">
                                                            <label for="telefono2">Otro Teléfono</label>
                                                            <input type="tel" class="form-control" id="telefono2" autocomplete="off"
                                                                   name="telefono2" ng-model="$ctrl.paciente.Telefono2" />
                                                            <div ng-show="frmPaciente.telefono2.$touched" ng-messages="frmPaciente.telefono2.$error" role="alert">
                                                                <span ng-messages-include="~/Home/FormElementError" class="ng-mesagges"></span>
                                                            </div>
                                                        </md-input-container>
                                                    </div>
                                                    <div class="form-group col-md-4">
                                                        <md-input-container class="form-group md-block">
                                                            <label for="celular">Celular</label>
                                                            <input type="tel" class="form-control" id="celular" autocomplete="off"
                                                                   name="celular" ng-model="$ctrl.paciente.Celular" />
                                                            <div ng-show="frmPaciente.celular.$touched" ng-messages="frmPaciente.celular.$error" role="alert">
                                                                <span ng-messages-include="~/Home/FormElementError" class="ng-mesagges"></span>
                                                            </div>
                                                        </md-input-container>
                                                    </div>
                                                </div>
                                                <div class="form-row">
                                                    <div class="form-group col-md">
                                                        <md-input-container class="form-group md-block">
                                                            <label for="mail">E-Mail</label>
                                                            <input type="email" class="form-control" id="mail" autocomplete="off"
                                                                   name="mail" ng-model="$ctrl.paciente.Mail" />
                                                            <div ng-show="frmPaciente.mail.$touched" ng-messages="frmPaciente.mail.$error" role="alert">
                                                                <span ng-messages-include="~/Home/FormElementError" class="ng-mesagges"></span>
                                                            </div>
                                                        </md-input-container>
                                                    </div>
                                                </div>
                                            </fieldset>
                                            <fieldset class="m-0 pt-0 pb-0">
                                                <md-input-container class="md-block">
                                                    <md-switch class="md-primary" name="special" ng-model="$ctrl.paciente.Habilitado" required>
                                                        <span ng-show="$ctrl.paciente.Habilitado">Habilitado</span>
                                                        <span ng-hide="$ctrl.paciente.Habilitado">Deshabilitado</span>
                                                    </md-switch>
                                                </md-input-container>
                                            </fieldset>

                                        </form>
                                    </div>
                                </md-content>
                            </md-tab>
                            <md-tab label="Turnos">
                                <md-content>
                                    <paciente-turnos paciente="$ctrl.paciente" on-close="$ctrl.close()"></paciente-turnos>
                                </md-content>
                            </md-tab>
                        </md-tabs>
                    </md-content>
                </div>
            </div>
            <div class="modal-footer">
                <md-button type="button" class="md-raised md-warn" ng-click="$ctrl.close()" data-dismiss="modal"><i class="icon-cancel"></i> Cancelar</md-button>
                <md-button type="submit" class="md-raised md-primary" ng-click="$ctrl.savePaciente()"><span class="icon-floppy"></span> Guardar</md-button>
                <div ng-transclude="botton"></div>
            </div>
        </div>
    </div>
</div>

